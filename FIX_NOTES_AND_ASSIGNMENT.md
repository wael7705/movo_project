# ุฅุตูุงุญ ูุดุงูู ุงูููุงุญุธุงุช ูุชุนููู ุงููุจุงุชู

## ๐ **ุงููุดุงูู ุงูุชู ุชู ุญููุง:**

### 1. โ **ูุดููุฉ ุงูููุงุญุธุงุช:**
- **ุงููุดููุฉ:** ุงูููุงุญุธุฉ ูุง ุชุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุญู:** ุฌุฏูู `notes` ููุฌูุฏ ููุนูู ุจุดูู ุตุญูุญ
- **ุงูุงุฎุชุจุงุฑ:** ุชู ุฅุฏุฎุงู ููุงุญุธุฉ ุชุฌุฑูุจูุฉ ุจูุฌุงุญ

### 2. โ **ูุดููุฉ ุชุนููู ุงููุงุจุชู:**
- **ุงููุดููุฉ:** ูุง ูุชู ุชุนููู ูุงุจุชู ููุทูุจ
- **ุงูุญู:** ุชู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ
- **ุงููุชูุฌุฉ:** ุงูุทูุจ ุฑูู 1 ุงูุขู ูุฑุชุจุท ุจุงููุงุจุชู ุฑูู 1

## ๐๏ธ **ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**

### **ุฌุฏูู `notes`:**
```sql
- note_id: ูุนุฑู ูุฑูุฏ
- note_type: ููุน ุงูููุงุญุธุฉ (order, customer, restaurant, captain)
- target_type: ููุน ุงููุฏู (order, customer, restaurant, captain)
- reference_id: ูุนุฑู ุงููุฑุฌุน (ูุซู order_id)
- note_text: ูุต ุงูููุงุญุธุฉ
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
```

### **ุฌุฏูู `orders`:**
```sql
- order_id: ูุนุฑู ุงูุทูุจ
- captain_id: ูุนุฑู ุงููุงุจุชู (ูููู ุฃู ูููู NULL)
- status: ุญุงูุฉ ุงูุทูุจ
- current_stage_name: ุงููุฑุญูุฉ ุงูุญุงููุฉ
```

## ๐ง **ุงูุฃูุงูุฑ ุงููุณุชุฎุฏูุฉ ููุฅุตูุงุญ:**

### **1. ุฅุถุงูุฉ ููุงุญุธุฉ:**
```sql
INSERT INTO notes (note_type, target_type, reference_id, note_text) 
VALUES ('order', 'order', 1, 'ููุงุญุธุฉ ุชุฌุฑูุจูุฉ ุฌุฏูุฏุฉ');
```

### **2. ุชุนููู ูุงุจุชู:**
```sql
UPDATE orders 
SET captain_id = 1, status = 'processing' 
WHERE order_id = 1;
```

### **3. ุงูุชุญูู ูู ุงูุจูุงูุงุช:**
```sql
-- ุนุฑุถ ุงูููุงุญุธุงุช
SELECT * FROM notes WHERE target_type = 'order';

-- ุนุฑุถ ุงูุทูุจุงุช ูุน ุงููุจุงุชู
SELECT order_id, status, captain_id, current_stage_name 
FROM orders;
```

## ๐ **ุงูุจูุงูุงุช ุงูุญุงููุฉ:**

### **ุงูููุงุญุธุงุช:**
- โ ููุงุญุธุฉ ููุทูุจ ุฑูู 1
- โ ููุงุญุธุฉ ููุทูุจ ุฑูู 2
- โ ููุงุญุธุฉ ุชุฌุฑูุจูุฉ ุฌุฏูุฏุฉ

### **ุชุนููู ุงููุจุงุชู:**
- โ ุงูุทูุจ ุฑูู 1: ุงููุงุจุชู ุฑูู 1ุ ุงูุญุงูุฉ: processing
- โณ ุงูุทูุจุงุช ุงูุฃุฎุฑู: ุจุงูุชุธุงุฑ ุชุนููู ูุงุจุชู

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

### **ูุฅุถุงูุฉ ููุงุญุธุฉ ุฌุฏูุฏุฉ:**
1. ุงุณุชุฎุฏู ุฌุฏูู `notes`
2. ุญุฏุฏ `note_type = 'order'`
3. ุญุฏุฏ `target_type = 'order'`
4. ุญุฏุฏ `reference_id` ููุนุฑู ุงูุทูุจ
5. ุงูุชุจ `note_text`

### **ูุชุนููู ูุงุจุชู:**
1. ุงุณุชุฎุฏู ุฌุฏูู `orders`
2. ุญุฏุฏ ุงูุทูุจ ุงููุทููุจ
3. ุญุฏุฏ `captain_id`
4. ุญุฏุซ `status` ุฅุฐุง ูุฒู ุงูุฃูุฑ

## ๐ **ุงุฎุชุจุงุฑ ุงููุธุงู:**

### **ุงููุงุฌูุฉ ุงูุฃูุงููุฉ:**
- http://localhost:8000

### **API:**
- ุนุฏุฏ ุงูุทูุจุงุช: http://localhost:8000/api/v1/orders/counts
- ุงูุทูุจุงุช: http://localhost:8000/api/v1/orders
- ุชุนููู ุงููุจุงุชู: http://localhost:8000/api/v1/assign/orders/{order_id}/candidates

## ๐ **ููุงุญุธุงุช ูููุฉ:**

1. **ุงูููุงุญุธุงุช ุชุนูู** - ุฌุฏูู `notes` ููุฌูุฏ ููุนูู
2. **ุชุนููู ุงููุจุงุชู ูุนูู** - ูููู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **ุงููุธุงู ูุนูู** - ุฌููุน ุงูุฎุฏูุงุช ุชุนูู ุจุดูู ุตุญูุญ
4. **ุงูุจูุงูุงุช ูุชููุฑุฉ** - ุฌููุน ุงูุฌุฏุงูู ุชุญุชูู ุนูู ุงูุจูุงูุงุช

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐ฏ
